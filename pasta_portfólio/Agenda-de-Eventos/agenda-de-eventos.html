<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/global-styles.css">
    <link rel="stylesheet" href="style.css">
    <title>Calendário 2025</title>
</head>
<body>
    <div class="container-lg py-8">
        <header class="text-center mb-12">
            <h1 class="text-4xl font-bold text-white mb-4">Calendário 2025</h1>
            <p class="text-lg text-white/90">Visualize todos os seus eventos e compromissos</p>
        </header>
        
        <div class="flex justify-center mb-8">
            <div class="card shadow-xl">
                <div class="card-body flex items-center gap-6">
                    <button class="btn btn-primary rounded-full" id="prev-month">&#10094;</button>
                    <div class="text-xl font-semibold text-center min-w-[200px]" id="current-month-year">Outubro 2025</div>
                    <button class="btn btn-primary rounded-full" id="next-month">&#10095;</button>
                </div>
            </div>
        </div>
        
        <div class="card shadow-xl mb-8">
            <div class="card-header bg-primary text-white text-center">
                <h2 class="text-2xl font-bold mb-0" id="calendar-title">Outubro 2025</h2>
            </div>
            <div class="calendar-wrapper">
                <table id="calendar" class="calendar-table">
                    <thead>
                        <tr>
                            <th>Dom</th>
                            <th>Seg</th>
                            <th>Ter</th>
                            <th>Qua</th>
                            <th>Qui</th>
                            <th>Sex</th>
                            <th>Sáb</th>
                        </tr>
                    </thead>
                    <tbody id="calendar-body">
                        <!-- O calendário será gerado via JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="card shadow-lg">
            <div class="card-header">
                <h3 class="text-lg font-semibold mb-0">Legenda de Categorias</h3>
            </div>
            <div class="card-body">
                <div class="grid grid-cols-3 gap-4">
                    <div class="flex items-center gap-3">
                        <div class="w-4 h-4 rounded-full bg-primary"></div>
                        <span class="text-sm">Trabalho</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="w-4 h-4 rounded-full bg-error"></div>
                        <span class="text-sm">Pessoal</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="w-4 h-4 rounded-full" style="background: var(--secondary-500);"></div>
                        <span class="text-sm">Social</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="w-4 h-4 rounded-full" style="background: #9b59b6;"></div>
                        <span class="text-sm">Feriado</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="w-4 h-4 rounded-full" style="background: #1abc9c;"></div>
                        <span class="text-sm">Financeiro</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="w-4 h-4 rounded-full" style="background: #d35400;"></div>
                        <span class="text-sm">Saúde</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="event-modal fixed inset-0 bg-black/50 flex items-center justify-center z-50" id="event-modal" style="display: none;">
        <div class="card max-w-md w-full mx-4 shadow-2xl">
            <div class="card-header flex justify-between items-center">
                <h3 class="text-xl font-semibold mb-0" id="modal-title">Detalhes do Evento</h3>
                <button class="btn btn-ghost btn-sm rounded-full w-8 h-8 p-0" id="close-modal">&times;</button>
            </div>
            <div class="card-body">
                <h4 class="text-lg font-medium mb-4 text-primary" id="modal-event-title">Título do Evento</h4>
                <div class="space-y-3 text-sm">
                    <p><span class="font-medium text-gray-700">Data:</span> <span id="modal-event-date" class="text-gray-600"></span></p>
                    <p><span class="font-medium text-gray-700">Categoria:</span> <span id="modal-event-category" class="text-gray-600"></span></p>
                    <p><span class="font-medium text-gray-700">Descrição:</span></p>
                    <p id="modal-event-description" class="text-gray-600 bg-gray-50 p-3 rounded-lg"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Dados dos eventos para 2025
        const eventsData = {
            "2025-01-01": [
                { title: "Ano Novo", category: "holiday", description: "Feriado nacional - Confraternização Universal" }
            ],
            "2025-01-20": [
                { title: "Reunião de planejamento", category: "work", description: "Reunião para definir metas do primeiro trimestre" }
            ],
            "2025-02-14": [
                { title: "Dia dos Namorados", category: "social", description: "Jantar romântico" }
            ],
            "2025-02-25": [
                { title: "Carnaval", category: "holiday", description: "Feriado nacional" }
            ],
            "2025-03-08": [
                { title: "Dia da Mulher", category: "social", description: "Evento especial de comemoração" }
            ],
            "2025-04-18": [
                { title: "Sexta-feira Santa", category: "holiday", description: "Feriado nacional" }
            ],
            "2025-04-21": [
                { title: "Tiradentes", category: "holiday", description: "Feriado nacional" }
            ],
            "2025-05-01": [
                { title: "Dia do Trabalho", category: "holiday", description: "Feriado nacional" }
            ],
            "2025-06-12": [
                { title: "Dia dos Namorados", category: "social", description: "Jantar especial" }
            ],
            "2025-07-04": [
                { title: "Revisão semestral", category: "work", description: "Revisão dos resultados do primeiro semestre" }
            ],
            "2025-08-15": [
                { title: "Férias", category: "personal", description: "Início das férias de verão" }
            ],
            "2025-09-07": [
                { title: "Independência do Brasil", category: "holiday", description: "Feriado nacional" }
            ],
            "2025-10-12": [
                { title: "Dia das Crianças", category: "holiday", description: "Feriado nacional - Nossa Senhora Aparecida" }
            ],
            "2025-10-15": [
                { title: "Dia do Professor", category: "social", description: "Evento de comemoração" }
            ],
            "2025-10-28": [
                { title: "Dia do Servidor Público", category: "holiday", description: "Feriado nacional" }
            ],
            "2025-11-02": [
                { title: "Finados", category: "holiday", description: "Feriado nacional" }
            ],
            "2025-11-15": [
                { title: "Proclamação da República", category: "holiday", description: "Feriado nacional" }
            ],
            "2025-12-25": [
                { title: "Natal", category: "holiday", description: "Feriado nacional" }
            ],
            "2025-12-31": [
                { title: "Reveillon", category: "social", description: "Festa de Ano Novo" }
            ]
        };

        // Adicionar eventos mensais recorrentes
        for (let month = 0; month < 12; month++) {
            // Reuniões de equipe - primeira segunda-feira de cada mês
            const firstMonday = new Date(2025, month, 1);
            while (firstMonday.getDay() !== 1) {
                firstMonday.setDate(firstMonday.getDate() + 1);
            }
            const firstMondayStr = formatDate(firstMonday);
            if (!eventsData[firstMondayStr]) eventsData[firstMondayStr] = [];
            eventsData[firstMondayStr].push({
                title: "Reunião de equipe",
                category: "work",
                description: "Reunião semanal da equipe"
            });
            
            // Pagamentos - dia 5 de cada mês
            const paymentDay = new Date(2025, month, 5);
            const paymentDayStr = formatDate(paymentDay);
            if (!eventsData[paymentDayStr]) eventsData[paymentDayStr] = [];
            eventsData[paymentDayStr].push({
                title: "Pagamento de contas",
                category: "finance",
                description: "Pagamento mensal de contas e impostos"
            });
            
            // Check-up médico - dia 15 de cada mês (exemplo)
            const healthDay = new Date(2025, month, 15);
            const healthDayStr = formatDate(healthDay);
            if (!eventsData[healthDayStr]) eventsData[healthDayStr] = [];
            eventsData[healthDayStr].push({
                title: "Check-up médico",
                category: "health",
                description: "Consulta de rotina com médico"
            });
        }

        let currentDate = new Date(2025, 9, 1); // Outubro 2025

        // Elementos DOM
        const calendarBody = document.getElementById('calendar-body');
        const currentMonthYear = document.getElementById('current-month-year');
        const calendarTitle = document.getElementById('calendar-title');
        const prevMonthBtn = document.getElementById('prev-month');
        const nextMonthBtn = document.getElementById('next-month');
        const eventModal = document.getElementById('event-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const modalEventTitle = document.getElementById('modal-event-title');
        const modalEventDate = document.getElementById('modal-event-date');
        const modalEventCategory = document.getElementById('modal-event-category');
        const modalEventDescription = document.getElementById('modal-event-description');

        // Função para formatar data como YYYY-MM-DD
        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        // Função para obter o nome do mês
        function getMonthName(month) {
            const months = [
                'Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho',
                'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'
            ];
            return months[month];
        }

        // Função para gerar o calendário
        function generateCalendar() {
            calendarBody.innerHTML = '';
            
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            // Atualizar cabeçalho
            currentMonthYear.textContent = `${getMonthName(month)} ${year}`;
            calendarTitle.textContent = `${getMonthName(month)} ${year}`;
            
            // Primeiro dia do mês
            const firstDay = new Date(year, month, 1);
            // Último dia do mês
            const lastDay = new Date(year, month + 1, 0);
            // Dia da semana do primeiro dia (0 = Domingo, 1 = Segunda, ...)
            const firstDayIndex = firstDay.getDay();
            
            // Data atual para destacar o dia de hoje
            const today = new Date();
            const isCurrentMonth = today.getFullYear() === year && today.getMonth() === month;
            
            let date = 1;
            let html = '';
            
            // Gerar as semanas
            for (let i = 0; i < 6; i++) {
                html += '<tr>';
                
                // Gerar os dias da semana
                for (let j = 0; j < 7; j++) {
                    if (i === 0 && j < firstDayIndex) {
                        // Dias do mês anterior
                        const prevMonthLastDay = new Date(year, month, 0).getDate();
                        const prevDate = prevMonthLastDay - firstDayIndex + j + 1;
                        html += `<td class="other-month">
                                    <div class="day-number">${prevDate}</div>
                                    <div class="events-container"></div>
                                </td>`;
                    } else if (date > lastDay.getDate()) {
                        // Dias do próximo mês
                        const nextDate = date - lastDay.getDate();
                        html += `<td class="other-month">
                                    <div class="day-number">${nextDate}</div>
                                    <div class="events-container"></div>
                                </td>`;
                        date++;
                    } else {
                        // Dias do mês atual
                        const dateStr = formatDate(new Date(year, month, date));
                        const isToday = isCurrentMonth && date === today.getDate();
                        const dayClass = isToday ? 'today' : '';
                        
                        html += `<td class="${dayClass}">
                                    <div class="day-number">${date}</div>
                                    <div class="events-container">`;
                        
                        // Adicionar eventos para este dia, se houver
                        if (eventsData[dateStr]) {
                            eventsData[dateStr].forEach(event => {
                                html += `<div class="event ${event.category}" 
                                         data-date="${dateStr}" 
                                         data-title="${event.title}" 
                                         data-category="${event.category}" 
                                         data-description="${event.description}">
                                         ${event.title}
                                         </div>`;
                            });
                        }
                        
                        html += `</div></td>`;
                        date++;
                    }
                }
                
                html += '</tr>';
                
                // Parar se já preenchemos todos os dias do mês
                if (date > lastDay.getDate()) {
                    break;
                }
            }
            
            calendarBody.innerHTML = html;
            
            // Adicionar event listeners aos eventos
            document.querySelectorAll('.event').forEach(event => {
                event.addEventListener('click', function() {
                    const date = this.getAttribute('data-date');
                    const title = this.getAttribute('data-title');
                    const category = this.getAttribute('data-category');
                    const description = this.getAttribute('data-description');
                    
                    showEventModal(date, title, category, description);
                });
            });
        }

        // Função para mostrar modal de evento
        function showEventModal(date, title, category, description) {
            const dateObj = new Date(date);
            const formattedDate = `${dateObj.getDate()} de ${getMonthName(dateObj.getMonth())} de ${dateObj.getFullYear()}`;
            
            modalEventTitle.textContent = title;
            modalEventDate.textContent = formattedDate;
            modalEventCategory.textContent = category;
            modalEventDescription.textContent = description;
            
            eventModal.style.display = 'flex';
        }

        // Event listeners
        prevMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            generateCalendar();
        });

        nextMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            generateCalendar();
        });

        closeModalBtn.addEventListener('click', () => {
            eventModal.style.display = 'none';
        });

        // Fechar modal ao clicar fora
        window.addEventListener('click', (e) => {
            if (e.target === eventModal) {
                eventModal.style.display = 'none';
            }
        });

        // Inicializar calendário
        generateCalendar();
    </script>
</body>
</html>